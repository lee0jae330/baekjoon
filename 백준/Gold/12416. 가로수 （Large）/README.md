# [Gold I] 가로수 (Large) - 12416 

[문제 링크](https://www.acmicpc.net/problem/12416) 

### 성능 요약

메모리: 24520 KB, 시간: 652 ms

### 분류

그리디 알고리즘

### 제출 일자

2022년 3월 23일 18:45:02

### 문제 설명

<p>당신은 G 시의 시장으로 당선되었다. 도시미화의 일부분으로서, 당신은 길가에 가로수를 심기로 하였다. 그런데 나무를 사들인 다음에야, 나무가 건강하게 자라기까지 필요한 버팀목이 필요하다는 사실을 깨달았다.</p>

<p>이런 상황에서, 가지고 있는 나무막대기만 이용해서 사들인 모든 가로수에 효율적으로 버팀목을 대는 것이 가능한지 알고 싶다. 여기 자세한 제약 조건이 있다.</p>

<p> </p>

<ul>
	<li>모든 나무를 빠짐없이 지지해야 한다.</li>
	<li>각각의 나무에 필요한 지지력과 각 나무막대기가 제공할 수 있는 지지력을 모두 알고 있다.<br>
	각각의 나무를 지지하는 데 필요한 지지력은 모두 같다.</li>
	<li>한 나무를 지지하려면, 나무막대기를 버팀목으로 써야 한다. 이때, 사용된 나무막대기의 지지력이 나무가 필요로 하는 지지력 이상이어야 한다.</li>
	<li>나무막대기는 같은 지지력을 줄 수 있는 것들을 묶어 한 종류로 구분해 두었고, 종류별 수량을 알고 있다.</li>
	<li>도시미화로 하는 것이기 때문에, 버팀목은 한 나무당 최대 2개까지밖에 사용할 수 없다.<br>
	두 개의 나무막대기를 사용할 경우, 두 나무 막대는 각각 지지력의 합만큼의 힘으로 나무를 지탱할 수 있다.</li>
	<li>위의 조건을 다 만족하는 경우 중에, 사용된 나무막대기의 지지력의 합을 최소화시켜라.</li>
</ul>

### 입력 

 <p>다음과 같이 변수들을 정의하자.</p>

<p> </p>

<ul>
	<li><strong>T</strong> = 테스트 케이스의 숫자</li>
	<li><strong>N</strong> = 나무의 개수</li>
	<li><strong>B</strong> = 각 나무가 필요로 하는 지지력. (모든 나무에 동일)</li>
	<li><strong>M</strong> = 나무막대기의 종류</li>
	<li><strong>p<sub>i</sub></strong> = <strong>i</strong> 번째 종류의 나무막대기들이 제공하는 지지력.</li>
	<li><strong>q<sub>i</sub></strong> = <strong>i</strong> 번째 종류 나무막대기들의 개수.
	<p> </p>
	</li>
</ul>

<p>이때, 입력은 다음과 같이 주어진다.</p>

<pre>T
N M B
p<sub>1</sub> q<sub>1</sub>
p<sub>2</sub> q<sub>2</sub>
...
p<sub>M</sub> q<sub>M</sub></pre>

<h3>제한</h3>

<ul>
	<li>모든 입력은 정수로 주어진다.</li>
	<li>1 ≤ <strong>T</strong> ≤ 50</li>
	<li>1 ≤ <strong>N</strong> ≤ 100000</li>
	<li>1 ≤ <strong>M</strong> ≤ 1000</li>
	<li>1 ≤ <strong>B</strong> ≤ 10000</li>
	<li>1 ≤ <strong>p<sub>i</sub></strong> ≤ 20000</li>
	<li>1 ≤ <strong>q<sub>i</sub></strong> ≤ 200000</li>
</ul>

### 출력 

 <p>각 테스트 케이스에 대한 출력은 "Case #x: y" 형태로 이루어져야 한다. <strong>x</strong>는 1부터 시작되는 케이스 번호이다. 만약, 모든 가로수를 심는 것이 가능하다면, 가로수를 지지하는데 사용된 막대기들의 지지력의 총 합 <strong>y</strong>을 출력하고, 불가능하다면 -1 를 대신 출력한다.</p>

